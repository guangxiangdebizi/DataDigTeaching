# 📚 聚类算法教学材料完整使用指南

## 🎯 快速开始

### 方式1：Web可视化（推荐用于课堂演示）⭐

**最快捷的方式**：
1. 打开文件夹 `web可视化`
2. 双击 `index.html`
3. 浏览器自动打开，立即使用！

**优点**：
- ✅ 无需安装任何东西
- ✅ 实时动画演示
- ✅ 交互式参数调节
- ✅ 学生可以自己操作

**适用场景**：
- 课堂投影演示
- 学生自主学习
- 快速理解算法原理
- 参数调优演示

---

### 方式2：Python代码（推荐用于深入学习）

**安装依赖**：
```bash
cd 聚类算法教学
pip install -r requirements.txt
```

**运行示例**：
```bash
# 方式A：运行单个文件（会显示图形窗口）
python 1_基于密度的聚类_DBSCAN.py

# 方式B：运行全部（生成所有图片）
python run_all.py
```

**优点**：
- ✅ 详细的代码实现
- ✅ 真实数据集测试
- ✅ 性能评估指标
- ✅ 可保存高质量图片

**适用场景**：
- 详细算法讲解
- 代码教学
- 科研论文插图
- 性能对比分析

---

## 📖 完整教学流程

### 第一步：课前准备（5分钟）

1. **测试Web界面**
   ```bash
   cd web可视化
   # 双击 index.html 测试是否能正常打开
   ```

2. **预生成Python图片**（可选）
   ```bash
   cd ..
   python run_all.py
   # 等待生成所有图片到"输出图片"文件夹
   ```

3. **准备演示环境**
   - 确保投影仪/大屏幕正常
   - 浏览器全屏模式（F11）
   - 准备好麦克风

---

### 第二步：课堂演示（50分钟）

#### 开场（5分钟）

1. 打开Web可视化界面
2. 简单介绍三种聚类算法
3. 展示系统功能：
   - 算法切换
   - 数据集选择
   - 动画演示
   - 参数调节

#### DBSCAN演示（15分钟）

1. **选择"球形簇"数据集**
   - 点击"开始"，播放动画
   - 讲解：核心点、边界点、噪声点
   - 暂停在关键步骤详细说明

2. **参数影响演示**
   - 调整ε滑动条：观察邻域变化
   - 调整minPts：观察噪声点变化
   - 让学生预测参数影响

3. **切换到"月牙形"数据集**
   - 展示发现任意形状簇的能力
   - 对比传统K-Means的局限

4. **打开Python代码**（可选）
   - 展示 `1_基于密度的聚类_DBSCAN.py`
   - 讲解核心代码片段
   - 展示生成的图片

#### 网格聚类演示（10分钟）

1. **切换到网格聚类算法**
   - 观察网格划分过程
   - 讲解密集单元识别
   - 展示簇的连接过程

2. **网格大小影响**
   - 调整网格大小滑动条
   - 观察聚类结果变化
   - 讨论粗网格 vs 细网格

3. **性能对比**
   - 打开 `4_综合对比分析.py` 的输出图片
   - 展示网格聚类的速度优势

#### GMM演示（10分钟）

1. **切换到GMM算法**
   - 勾选"显示高斯椭圆"
   - 播放EM迭代过程
   - 讲解E步和M步

2. **软聚类概念**
   - 观察点的透明度变化
   - 讲解概率归属
   - 对比硬聚类vs软聚类

3. **真实数据测试**
   - 打开 `5_真实数据集示例.py` 的输出
   - 展示Iris、Wine、Digits数据集结果
   - 讲解ARI评估指标

#### 综合对比（10分钟）

1. **使用Web快速切换**
   - 同一数据集，三种算法对比
   - 讨论各自优缺点

2. **学生互动**
   - 让学生尝试自定义数据集
   - 点击画布添加点
   - 观察不同算法的表现

3. **总结**
   - 展示算法特性对比表
   - 讨论实际应用场景

---

### 第三步：课后练习

#### 基础练习（必做）

1. **Web交互练习**
   - 在每种数据集上运行三种算法
   - 记录最佳参数设置
   - 截图保存结果

2. **参数探索**
   - 固定"球形簇"数据集
   - DBSCAN: 测试5组不同的(ε, minPts)组合
   - 总结参数选择规律

#### 进阶练习（选做）

1. **运行Python代码**
   ```bash
   python 1_基于密度的聚类_DBSCAN.py
   python 2_基于网格的聚类_CLIQUE.py
   python 3_基于模型的聚类_GMM.py
   ```
   - 阅读代码，理解实现
   - 修改参数，观察变化
   - 保存自己的实验图片

2. **真实数据分析**
   ```bash
   python 5_真实数据集示例.py
   ```
   - 分析三个真实数据集的结果
   - 理解ARI和轮廓系数
   - 解释为什么某些算法表现更好

3. **代码修改**
   - 修改数据生成参数
   - 尝试自己的数据
   - 调整可视化样式

---

## 🔧 常见问题解决

### Web可视化问题

**Q: 打开index.html后页面空白？**
- A: 检查浏览器控制台（F12）是否有错误
- A: 尝试用Chrome或Edge浏览器
- A: 确保所有.js和.css文件在同一目录

**Q: 动画卡顿？**
- A: 关闭其他标签页
- A: 调慢动画速度
- A: 减少数据点数量（修改main.js中的numPoints）

**Q: 无法添加自定义点？**
- A: 确保选择了"自定义"数据集
- A: 点击画布内部区域

### Python代码问题

**Q: 运行run_all.py卡住不动？**
- A: 这是因为plt.show()会等待关闭图形窗口
- A: 已修复：关闭弹出的图形窗口即可继续
- A: 或者单独运行各个脚本

**Q: 中文显示乱码？**
- A: 确保系统安装了微软雅黑字体
- A: 代码中已设置: `rcParams['font.sans-serif'] = ['Microsoft YaHei']`

**Q: 图片没有生成？**
- A: 检查是否有"输出图片"文件夹
- A: 手动创建：`mkdir 输出图片`
- A: 检查文件路径中是否有特殊字符

**Q: ModuleNotFoundError?**
```bash
# 重新安装依赖
pip install -r requirements.txt

# 或者逐个安装
pip install numpy matplotlib scikit-learn scipy pandas
```

---

## 📂 文件结构说明

```
聚类算法教学/
│
├── web可视化/                    ⭐ Web交互式界面
│   ├── index.html               # 主页面
│   ├── style.css                # 样式表
│   ├── algorithms.js            # 算法实现
│   ├── visualization.js         # 可视化绘制
│   ├── main.js                  # 主控制逻辑
│   └── README.md                # Web使用说明
│
├── 1_基于密度的聚类_DBSCAN.py      # DBSCAN教学代码
├── 2_基于网格的聚类_CLIQUE.py      # 网格聚类教学代码
├── 3_基于模型的聚类_GMM.py         # GMM教学代码
├── 4_综合对比分析.py               # 三种算法对比
├── 5_真实数据集示例.py             # 真实数据集测试
│
├── run_all.py                    # 一键运行所有示例
├── requirements.txt              # Python依赖
├── README.md                     # 项目主文档
└── 使用指南.md                    # 本文档

└── 输出图片/                      # Python生成的图片
    ├── 1_DBSCAN_月牙形.png
    ├── 2_DBSCAN_噪声处理.png
    ├── ...
    └── 14_真实数据_Digits.png
```

---

## 💡 教学技巧

### 1. 渐进式讲解

- **第一轮**：只用Web，建立直观印象
- **第二轮**：结合代码，理解算法细节
- **第三轮**：真实数据，理解实际应用

### 2. 对比式学习

- 同一数据，不同算法 → 理解算法特点
- 同一算法，不同数据 → 理解适用场景
- 同一算法，不同参数 → 理解参数影响

### 3. 互动式教学

- 让学生猜测参数影响
- 让学生设计测试数据
- 让学生自己调参数

### 4. 可视化为主

- 少讲公式，多看动画
- 用颜色和形状解释概念
- 逐步演示，不要一次性放完

---

## 🎓 考核建议

### 平时作业（30%）

1. Web实验报告
   - 截图记录实验过程
   - 分析参数影响
   - 对比算法优缺点

2. 代码阅读理解
   - 回答代码相关问题
   - 解释关键步骤
   - 修改代码完成指定任务

### 期中项目（30%）

- 使用提供的工具分析自己的数据集
- 对比三种算法的表现
- 撰写分析报告

### 期末考试（40%）

- 算法原理理解
- 参数影响分析
- 算法选择与应用

---

## 📞 获取帮助

### 自助排查

1. 查看 `README.md`
2. 查看 `web可视化/README.md`
3. 查看本文档的常见问题

### 寻求帮助

- 课后询问老师
- 同学讨论
- 在线搜索相关资料

---

## 🌟 高级用法

### 修改Web界面

所有代码都有详细注释，可以自由修改：
- 修改颜色：编辑 `visualization.js` 中的 `this.colors`
- 修改数据点数：编辑 `main.js` 中的 `numPoints`
- 添加新算法：在 `algorithms.js` 中添加新类

### 使用自己的数据

**在Web中**：
1. 选择"自定义"数据集
2. 点击画布添加点
3. 点击"开始"运行聚类

**在Python中**：
```python
# 在脚本开头添加
import numpy as np
my_data = np.loadtxt('my_data.txt')  # 加载你的数据
X = my_data  # 使用你的数据替换示例数据
```

---

## ✅ 检查清单

### 上课前

- [ ] Web界面能正常打开
- [ ] Python图片已生成（可选）
- [ ] 投影仪/屏幕测试通过
- [ ] 浏览器全屏测试
- [ ] 准备好讲义/PPT

### 上课时

- [ ] 演示Web界面的所有功能
- [ ] 至少3种数据集 × 3种算法
- [ ] 参数调节演示
- [ ] 学生互动环节
- [ ] 总结对比

### 课后

- [ ] 布置作业
- [ ] 提供材料下载链接
- [ ] 收集学生反馈
- [ ] 准备答疑

---

**祝教学顺利！** 🎉

如有任何问题，欢迎随时沟通交流！

